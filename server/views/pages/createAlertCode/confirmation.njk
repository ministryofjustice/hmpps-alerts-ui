{% extends "../../partials/layout.njk" %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% set pageTitle = applicationName + " - Create alert type confirm details" %}
{% set mainClasses = "app-container govuk-body" %}

{% block content %}
    <div class="govuk-!-margin-bottom-9">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds-from-desktop">
                <span class="govuk-caption-xl">Create an alert code</span>
                <h1 class="govuk-heading-xl">
                    Check your answers before creating your alert code
                </h1>
                <h2 class="govuk-heading-m">Alert code</h2>
                {{ govukSummaryList({
                    classes: "govuk-!-margin-bottom-9",
                    rows: [
                        {
                            key: {
                            text: "Type"
                        },
                            value: {
                            text: alertCodeParentType
                        },
                            actions: {
                            items: [
                                {
                                    href: "/alert-code/create",
                                    text: "Change",
                                    visuallyHiddenText: "alert type"
                                }
                            ]
                        }
                        },
                        {
                            key: {
                            text: "Code"
                        },
                            value: {
                            text: alertCode
                        },
                            actions: {
                            items: [
                                {
                                    href: "/alert-code/alert-code",
                                    text: "Change",
                                    visuallyHiddenText: "alert code"
                                }
                            ]
                        }
                        },
                        {
                            key: {
                            text: "Description"
                        },
                            value: {
                            text: alertDescription
                        },
                            actions: {
                            items: [
                                {
                                    href: "/alert-code/alert-code",
                                    text: "Change",
                                    visuallyHiddenText: "alert code description"
                                }
                            ]
                        }
                        }
                    ]
                }) }}
                <h2 class="govuk-heading-m">Now save your alert code</h2>
                <p class="govuk-body">By saving this alert code, you are confirming that to the best of your knowledge,
                    the details above are accurate. You will be able to use this alert code as soon as you click
                    'Save'.</p>
                <form method="post">
                    <input type="hidden" name="_csrf" value="{{ csrfToken }}"/>
                    <input type="hidden" name="code" data-qa="code" value="{{ alertCode }}"/>
                    <input type="hidden" name="description" data-qa="description" value="{{ alertDescription }}"/>
                    <input type="hidden" name="parent" data-qa="parent" value="{{ alertCodeParentType }}"/>
                    {{ govukButton({
                        text: "Save",
                        type: submit,
                        value: 'alert-code-save',
                        preventDoubleClick: true,
                        attributes: {  'data-qa': 'alert-code-save' }
                    }) }}
                </form>
            </div>
        </div>
    </div>
{% endblock %}
